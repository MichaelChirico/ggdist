<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dots + interval stats and geoms • ggdist</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Dots + interval stats and geoms">
<meta property="og:description" content="ggdist">
<meta property="og:image" content="http://mjskay.github.io/ggdist/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-93322-5"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-93322-5');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggdist</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/dotsinterval.html">Dots + interval stats and geoms</a>
    </li>
    <li>
      <a href="../articles/freq-uncertainty-vis.html">Frequentist uncertainty visualization</a>
    </li>
    <li>
      <a href="../articles/lineribbon.html">Lineribbon stats and geoms</a>
    </li>
    <li>
      <a href="../articles/slabinterval.html">Slab + interval stats and geoms</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mjskay/ggdist/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Dots + interval stats and geoms</h1>
                        <h4 data-toc-skip class="author">Matthew Kay</h4>
            
            <h4 data-toc-skip class="date">2022-02-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/mjskay/ggdist/blob/HEAD/vignettes/dotsinterval.Rmd" class="external-link"><code>vignettes/dotsinterval.Rmd</code></a></small>
      <div class="hidden name"><code>dotsinterval.Rmd</code></div>

    </div>

    
    
<style type="text/css">
.kable-table table {
  margin-left: 0;
}
img {
  border: none;
}
</style>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette describes the dots+interval geoms and stats in <code>ggdist</code>. This is a flexible sub-family of stats and geoms designed to make plotting dotplots straightforward. In particular, it supports a selection of useful layouts (including the classic Wilkinson layout, a weave layout, and a beeswarm layout) and can automatically select the dot size so that the dotplot stays within the bounds of the plot.</p>
</div>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>The following libraries are required to run this vignette:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkg.mitchelloharawild.com/distributional/" class="external-link">distributional</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mjskay.github.io/ggdist/" class="external-link">ggdist</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com" class="external-link">patchwork</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/" class="external-link">palmerpenguins</a></span><span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span><span class="fu"><a href="../reference/theme_ggdist.html">theme_ggdist</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="anatomy-of-geom_dotsinterval">Anatomy of <code>geom_dotsinterval()</code><a class="anchor" aria-label="anchor" href="#anatomy-of-geom_dotsinterval"></a>
</h2>
<p>The <code>dotsinterval</code> family of geoms and stats is a sub-family of slabinterval (see <code><a href="../articles/slabinterval.html">vignette("slabinterval")</a></code>), where the “slab” is a collection of dots forming a dotplot and the interval is a summary point (e.g., mean, median, mode) with an arbitrary number of intervals.</p>
<p>The base <code><a href="../reference/geom_dotsinterval.html">geom_dotsinterval()</a></code> uses a variety of custom aesthetics to create the composite geometry:</p>
<p><img src="dotsinterval_files/figure-html/dotsinterval_components-1.png" width="624"></p>
<p>Depending on whether you want a horizontal or vertical orientation, you can provide <code>ymin</code> and <code>ymax</code> instead of <code>xmin</code> and <code>xmax</code>. By default, some aesthetics (e.g., <code>fill</code>, <code>color</code>, <code>size</code>, <code>alpha</code>) set properties of multiple sub-geometries at once. For example, the <code>color</code> aesthetic by default sets both the color of the point and the interval, but can also be overridden by <code>point_color</code> or <code>interval_color</code> to set the color of each sub-geometry separately.</p>
<p>Due to its relationship to the <code><a href="../reference/geom_slabinterval.html">geom_slabinterval()</a></code> family, aesthetics specific to the “dots” sub-geometry are referred to with the prefix <code>slab_</code>. When using the standalone <code><a href="../reference/geom_dotsinterval.html">geom_dots()</a></code> geometry, it is not necessary to use these custom aesthetics:</p>
<p><img src="dotsinterval_files/figure-html/dots_components-1.png" width="624"></p>
<p><code><a href="../reference/geom_dotsinterval.html">geom_dotsinterval()</a></code> is often most useful when paired with <code><a href="../reference/geom_dotsinterval.html">stat_dotsinterval()</a></code>, which will automatically calculate points and intervals and map these onto endpoints of the interval sub-geometry.</p>
<p><code><a href="../reference/geom_dotsinterval.html">stat_dotsinterval()</a></code> and <code><a href="../reference/geom_dotsinterval.html">stat_dots()</a></code> can be used on two types of data, depending on what aesthetic mappings you provide:</p>
<ul>
<li><p><strong>Sample data</strong>; e.g. draws from a data distribution, bootstrap distribution, Bayesian posterior distribution (or any other distribution, really). To use the stats on sample data, map sample values onto the <code>x</code> or <code>y</code> aesthetic.</p></li>
<li><p><strong>Distribution objects and analytical distributions</strong>. To use the stats on this type of data, you must use the <code>xdist</code>, or <code>ydist</code> aesthetics, which take <a href="https://pkg.mitchelloharawild.com/distributional/" class="external-link">distributional</a> objects, <code><a href="https://mc-stan.org/posterior/reference/rvar.html" class="external-link">posterior::rvar()</a></code> objects, or distribution names (e.g. <code>"norm"</code>, which refers to the Normal distribution provided by the <code>dnorm/pnorm/qnorm</code> functions). When used on analytical distributions (e.g. <code><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">distributional::dist_normal()</a></code>), the <code>quantiles</code> argument determines the number of quantiles used (and therefore the number of dots shown); the default is <code>100</code>.</p></li>
</ul>
<p>All <code>dotsinterval</code> geoms can be plotted horizontally or vertically. Depending on how aesthetics are mapped, they will attempt to automatically determine the orientation; if this does not produce the correct result, the orientation can be overridden by setting <code>orientation = "horizontal"</code> or <code>orientation = "vertical"</code>.</p>
</div>
<div class="section level2">
<h2 id="controlling-dot-layout">Controlling dot layout<a class="anchor" aria-label="anchor" href="#controlling-dot-layout"></a>
</h2>
<p>Size and layout of dots in the dotplot are controlled by four parameters: <code>scale</code>, <code>binwidth</code>, <code>dotsize</code>, and <code>stackratio</code>.</p>
<p><img src="dotsinterval_files/figure-html/layout_params-1.png" width="576"></p>
<ul>
<li><p><code>scale</code>: If <code>binwidth</code> is not set (is <code>NA</code>), then the <code>binwidth</code> is determined automatically so that the height of the highest stack of dots is less than <code>scale</code>. The default value of <code>scale</code>, 0.9, ensures there is a small gap between dotplots when multiple dotplots are drawn.</p></li>
<li>
<p><code>binwidth</code>: The width of the bins used to lay out the dots:</p>
<ul>
<li>
<code>NA</code> (default): Use <code>scale</code> to determine bin width.</li>
<li>A single numeric or <code><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit()</a></code>: the exact bin width to use. If it is <code>numeric</code>, the bin width is expressed in data units; use <code><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit()</a></code> to specify the width in terms of screen coordinates (e.g. <code>unit(0.1, "npc")</code> would make the bin width 0.1 <em>normalized parent coordinates</em>, which would be 10% of the plot width.)</li>
<li>A 2-vector of numerics or <code><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit()</a></code>s giving an acceptable minimum and maximum width. The automatic bin width algorithm will attempt to find the largest bin width between these two values that also keeps the tallest stack of dots shorter than <code>scale</code>.</li>
</ul>
</li>
<li><p><code>dotsize</code>: The size of the dots as a percentage of <code>binwidth</code>. The default value is <code>1.07</code> rather than <code>1</code>. This value was chosen largely by trial and error, to find a value that gives nice-looking layouts with circular dots on continuous distributions, accounting for the fact that a slight overlap of dots tends to give a nicer apparent visual distance between adjacent stacks than the precise value of <code>1</code>.</p></li>
<li><p><code>stackratio</code>: The distance between the centers of dots in a stack as a proportion of the height of each dot. <code>stackratio = 1</code>, the default, mean dots will just touch; <code>stackratio &lt; 1</code> means dots will overlap each other, and <code>stackratio &gt; 1</code> means dots will have gaps between them.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="side-and-layout">Side and layout<a class="anchor" aria-label="anchor" href="#side-and-layout"></a>
</h2>
<p>The <code>side</code> aesthetic allows you to adjust the positioning and direction of the dots:</p>
<ul>
<li>
<code>"top"</code>, <code>"right"</code>, or <code>"topright"</code>: draw the dots on the top or on the right, depending on <code>orientation</code>
</li>
<li>
<code>"bottom"</code>, <code>"left"</code>, or <code>"bottomleft"</code>: draw the dots on the bottom or on the left, depending on <code>orientation</code>
</li>
<li>
<code>"topleft"</code>: draw the dots on top or on the left, depending on <code>orientation</code>
</li>
<li>
<code>"bottomright"</code>: draw the dots on the bottom or on the right, depending on <code>orientation</code>
</li>
<li>
<code>"both"</code>: draw the dots mirrored, as in a “beeswarm” plot.</li>
</ul>
<p>The <code>layout</code> parameter allows you to adjust the algorithm used to place dots:</p>
<ul>
<li>
<code>"bin"</code> (default): places dots on the off-axis at the midpoint of their bins as in the classic Wilkinson dotplot. This maintains the alignment of rows and columns in the dotplot. This layout is slightly different from the classic Wilkinson algorithm in that: (1) it nudges bins slightly to avoid overlapping bins and (2) if the input data are symmetrical it will return a symmetrical layout.</li>
<li>
<code>"weave"</code>: uses the same basic binning approach of “bin”, but places dots in the off-axis at their actual positions (modulo overlaps, which are nudged out of the way). This maintains the alignment of rows but does not align dots within columns. Does not work well when <code>side = "both"</code>.</li>
<li>“swarm”: uses the <code>"compactswarm"</code> layout from <code><a href="https://rdrr.io/pkg/beeswarm/man/beeswarm.html" class="external-link">beeswarm::beeswarm()</a></code>. Does not maintain alignment of rows or columns, but can be more compact and neat looking, especially for sample data (as opposed to quantile dotplots of theoretical distributions, which may look better with <code>"bin"</code> or <code>"weave"</code>).</li>
</ul>
<p>That yields these combinations (amongst many others):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span>
<span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>

<span class="va">make_plot</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">layout</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>
    x <span class="op">=</span> <span class="va">x</span>,
    side <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"topright"</span>, <span class="st">"both"</span>, <span class="st">"bottomleft"</span><span class="op">)</span>,
    stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span>
  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>side <span class="op">=</span> <span class="va">side</span>, x <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="../reference/geom_dotsinterval.html">stat_dotsinterval</a></span><span class="op">(</span>layout <span class="op">=</span> <span class="va">layout</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">facet_grid</a></span><span class="op">(</span><span class="op">~</span> <span class="va">side</span>, labeller <span class="op">=</span> <span class="st">"label_both"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>
      subtitle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"stat_dotsinterval(layout = '"</span>, <span class="va">layout</span>, <span class="st">"')"</span><span class="op">)</span>,
      x <span class="op">=</span> <span class="cn">NULL</span>,
      y <span class="op">=</span> <span class="cn">NULL</span>
    <span class="op">)</span>
<span class="op">}</span>

<span class="fu">make_plot</span><span class="op">(</span><span class="st">"bin"</span><span class="op">)</span> <span class="op">/</span>
  <span class="fu">make_plot</span><span class="op">(</span><span class="st">"weave"</span><span class="op">)</span> <span class="op">/</span>
  <span class="fu">make_plot</span><span class="op">(</span><span class="st">"swarm"</span><span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/side_layout-1.png" width="648"></p>
<div class="section level3">
<h3 id="beeswarm-plots">Beeswarm plots<a class="anchor" aria-label="anchor" href="#beeswarm-plots"></a>
</h3>
<p>Thus, it is possible to create the beeswarm plots by using <code><a href="../reference/geom_dotsinterval.html">stat_dots()</a></code> with <code>side = "both"</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span>

<span class="va">abc_df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>
  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">300</span>, mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>,
  abc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">abc_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">abc</span>, y <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">stat_dots</a></span><span class="op">(</span>side <span class="op">=</span> <span class="st">"both"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">'stat_dots(side = "both")'</span><span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/beeswarm_bin-1.png" width="648"></p>
<p><code>side = "both"</code> also tends to work well with the <code>"swarm"</code> layout for a more classic-looking “beeswarm” plot:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">abc_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">abc</span>, y <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">stat_dots</a></span><span class="op">(</span>side <span class="op">=</span> <span class="st">"both"</span>, layout <span class="op">=</span> <span class="st">"swarm"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">'stat_dots(side = "both", layout = "swarm")'</span><span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/beeswarm-1.png" width="648"></p>
</div>
</div>
<div class="section level2">
<h2 id="varying-color-fill-shape-and-size">Varying <code>color</code>, <code>fill</code>, <code>shape</code>, and <code>size</code><a class="anchor" aria-label="anchor" href="#varying-color-fill-shape-and-size"></a>
</h2>
<p>Aesthetics like <code>color</code>, <code>fill</code>, <code>shape</code>, and <code>size</code> can be varied over the dots. For example, we can vary the <code>fill</code> aesthetic to create two subgroups, and use <code>position = "dodge"</code> to dodge entire “swarms” at once so the subgroups do not overlap:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span>

<span class="va">abcc_df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>
  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">300</span>, mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>,
  abc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"c"</span><span class="op">)</span>,
  hi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"h"</span>, <span class="st">"h"</span>, <span class="st">"h"</span>, <span class="st">"i"</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">abcc_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">value</span>, x <span class="op">=</span> <span class="va">abc</span>, fill <span class="op">=</span> <span class="va">hi</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">geom_dots</a></span><span class="op">(</span>side <span class="op">=</span> <span class="st">"both"</span>, position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_color_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark2"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>
    <span class="st">'geom_dots(side = "both", position = "dodge")'</span>,
    <span class="st">'aes(fill = hi)'</span>
  <span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/beeswarm_dodge-1.png" width="648"></p>
<p>The color of the default gray outline can be changed using the <code>color</code> aesthetic, or you can remove it altogether by setting <code>size = 0</code> (or <code>slab_size = 0</code> when using <code><a href="../reference/geom_dotsinterval.html">stat_dotsinterval()</a></code> / <code><a href="../reference/geom_dotsinterval.html">geom_dotsinterval()</a></code>), or by changing to solid shapes (the usual “plotting characters”, e.g.  numbers from <code>0:24</code>, are supported) and using the <code>color</code> aesthetic.</p>
<p>For example, we can vary <code>shape</code> and <code>color</code> simultaneously:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">abcc_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">value</span>, x <span class="op">=</span> <span class="va">abc</span>, shape <span class="op">=</span> <span class="va">abc</span>, color <span class="op">=</span> <span class="va">hi</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="co"># we'll also increase the `scale` here since we </span>
  <span class="co"># have some extra space from the dodging</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">geom_dots</a></span><span class="op">(</span>side <span class="op">=</span> <span class="st">"both"</span>, position <span class="op">=</span> <span class="st">"dodge"</span>, scale <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_color_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark2"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>
    <span class="st">'geom_dots(side = "both", position = "dodge")'</span>,
    <span class="st">'aes(shape = abc, fill = hi)'</span>
  <span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/beeswarm_shape_color-1.png" width="648"></p>
<div class="section level3">
<h3 id="varying-discrete-aesthetics-within-dot-groups">Varying discrete aesthetics within dot groups<a class="anchor" aria-label="anchor" href="#varying-discrete-aesthetics-within-dot-groups"></a>
</h3>
<p>By default, if you assign a discrete variable to <code>color</code>, <code>shape</code>, etc it will also be used in the <code>group</code> aesthetic to determine dot groups, which are laid out separate (and can be dodged separately, as above).</p>
<p>If you override this behavior by setting <code>group</code> to <code>NA</code> (or to some other variable you want to group dot layouts by), <code><a href="../reference/geom_dotsinterval.html">geom_dotsinterval()</a></code> will leave dots in data order within the layout but allow aesthetics to vary across them.</p>
<p>For example:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">abcc_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">value</span>, x <span class="op">=</span> <span class="va">abc</span>, shape <span class="op">=</span> <span class="va">abc</span>, color <span class="op">=</span> <span class="va">hi</span>, group <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">geom_dots</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_color_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark2"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>
    <span class="st">'geom_dots()'</span>,
    <span class="st">'aes(shape = abc, color = hi, group = NA)'</span>
  <span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/beeswarm_shape_color_together-1.png" width="648"></p>
</div>
<div class="section level3">
<h3 id="varying-continuous-aesthetics-within-dot-groups">Varying continuous aesthetics within dot groups<a class="anchor" aria-label="anchor" href="#varying-continuous-aesthetics-within-dot-groups"></a>
</h3>
<p>Continuous variables can also be varied within groups. Since continuous variables will not automatically set the <code>group</code> aesthetic, we can simply assign them to the desired aesthetic we want to vary:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">abcc_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">hi</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">value</span>, x <span class="op">=</span> <span class="va">abc</span>, shape <span class="op">=</span> <span class="va">abc</span>, color <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">geom_dots</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>
    <span class="st">'geom_dots()'</span>,
    <span class="st">'aes(color = value)'</span>
  <span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/beeswarm_shape_color_continuous-1.png" width="648"></p>
<p>This can be particularly useful with the <code>color</code>, <code>fill</code>, <code>color_ramp</code>, <code>fill_ramp</code>, and <code>alpha</code> aesthetics. For example, encoding distance from 0 on <code>alpha</code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">abcc_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">hi</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">value</span>, x <span class="op">=</span> <span class="va">abc</span>, shape <span class="op">=</span> <span class="va">abc</span>, color <span class="op">=</span> <span class="va">abc</span>, alpha <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">geom_dots</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>
    <span class="st">'geom_dots(side = "both", layout = "swarm")'</span>,
    <span class="st">'aes(color = value, alpha = abs(value))'</span>
  <span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/beeswarm_shape_color_alpha-1.png" width="648"></p>
</div>
</div>
<div class="section level2">
<h2 id="on-analytical-distributions">On analytical distributions<a class="anchor" aria-label="anchor" href="#on-analytical-distributions"></a>
</h2>
<p>Like the <code><a href="../reference/stat_slabinterval.html">stat_slabinterval()</a></code> family, <code><a href="../reference/geom_dotsinterval.html">stat_dotsinterval()</a></code> and <code><a href="../reference/geom_dotsinterval.html">stat_dots()</a></code> support using both sample data (via <code>x</code> and <code>y</code> aesthetics) or analytical distributions (via the <code>xdist</code> and <code>ydist</code> aesthetics). For analytical distributions, these stats accept specifications for distributions in one of two ways:</p>
<ol style="list-style-type: decimal">
<li>
<p><strong>Using distribution names as character vectors</strong>: this format uses aesthetics as follows:</p>
<ul>
<li>
<code>xdist</code>, <code>ydist</code>, or <code>dist</code>: the name of the distribution, following R’s naming scheme. This is a string which should have <code>"p"</code>, <code>"q"</code>, and <code>"d"</code> functions defined for it: e.g., “norm” is a valid distribution name because the <code><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm()</a></code>, <code><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm()</a></code>, and <code><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">dnorm()</a></code> functions define the CDF, quantile function, and density function of the Normal distribution.</li>
<li>
<code>args</code> or <code>arg1</code>, … <code>arg9</code>: arguments for the distribution. If you use <code>args</code>, it should be a list column where each element is a list containing arguments for the distribution functions; alternatively, you can pass the arguments directly using <code>arg1</code>, … <code>arg9</code>.</li>
</ul>
</li>
<li>
<p><strong>Using distribution vectors from the <a href="https://pkg.mitchelloharawild.com/distributional/" class="external-link">distributional</a> package or <code><a href="https://mc-stan.org/posterior/reference/rvar.html" class="external-link">posterior::rvar()</a></code> objects</strong>: this format uses aesthetics as follows:</p>
<ul>
<li>
<code>xdist</code>, <code>ydist</code>, or <code>dist</code>: a distribution vector or <code><a href="https://mc-stan.org/posterior/reference/rvar.html" class="external-link">posterior::rvar()</a></code> produced by functions such as <code><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">distributional::dist_normal()</a></code>, <code><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_beta.html" class="external-link">distributional::dist_beta()</a></code>, <code><a href="https://mc-stan.org/posterior/reference/rvar_rng.html" class="external-link">posterior::rvar_rng()</a></code>, etc.</li>
</ul>
</li>
</ol>
<p>For example, here are a variety of distributions:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dist_df</span> <span class="op">=</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>
  dist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">dist_normal</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0.25</span><span class="op">)</span>, <span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_beta.html" class="external-link">dist_beta</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_gamma.html" class="external-link">dist_gamma</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span>,
  dist_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">dist</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">dist_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">dist_name</span>, xdist <span class="op">=</span> <span class="va">dist</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">stat_dotsinterval</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>
    <span class="st">"stat_dotsinterval()"</span>,
    <span class="st">"aes(y = dist_name, xdist = dist)"</span>
  <span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/dotsinterval_dist-1.png" width="648"></p>
<p>Analytical distributions are shown by default using 100 quantiles, sometimes referred to as a <em>quantile dotplot</em>, which can help people make better decisions under uncertainty (<a href="https://doi.org/10.1145/2858036.2858558" class="external-link">Kay 2016</a>, <a href="https://doi.org/10.1145/3173574.3173718" class="external-link">Fernandes 2018</a>).</p>
<p>This can be changed using the <code>quantiles</code> argument. For example, we can plot the same distributions again, now with 1000 quantiles:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dist_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">dist_name</span>, xdist <span class="op">=</span> <span class="va">dist</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">stat_dotsinterval</a></span><span class="op">(</span>quantiles <span class="op">=</span> <span class="fl">1000</span>, point_interval <span class="op">=</span> <span class="va">mode_hdci</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>
    <span class="st">"stat_dotsinterval(quantiles = 1000, point_interval = mode_hdci)"</span>,
    <span class="st">"aes(y = dist_name, xdist = dist)"</span>
  <span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/dotsinterval_dist_1000-1.png" width="648"></p>
<p>This example also shows the use of <code>point_interval</code> to plot the mode and highest-density continuous intervals (instead of the default median and quantile intervals). For more, see <code><a href="../reference/point_interval.html">point_interval()</a></code>.</p>
<p>When summarizing sample distributions with <code><a href="../reference/geom_dotsinterval.html">stat_dots()</a></code>/<code><a href="../reference/geom_dotsinterval.html">stat_dotsinterval()</a></code> (e.g. samples from Bayesian posteriors), one can also use the <code>quantiles</code> argument, though it is not on by default.</p>
<div class="section level3">
<h3 id="varying-continuous-aesthetics-with-analytical-distributions">Varying continuous aesthetics with analytical distributions<a class="anchor" aria-label="anchor" href="#varying-continuous-aesthetics-with-analytical-distributions"></a>
</h3>
<p>While varying discrete aesthetics works similarly with <code><a href="../reference/geom_dotsinterval.html">stat_dotsinterval()</a></code>/<code><a href="../reference/geom_dotsinterval.html">stat_dots()</a></code> as it does with <code><a href="../reference/geom_dotsinterval.html">geom_dotsinterval()</a></code>/<code><a href="../reference/geom_dotsinterval.html">geom_dots()</a></code>, varying continuous aesthetics within dot groups typically requires mapping the continuous aesthetic <em>after</em> the stats are computed. This is because the stat (at least for analytical distributions) must first generate the quantiles before properties of those quantiles can be mapped to aesthetics.</p>
<p>Thus, because it relies upon generated variables from the stat, you can use the <code><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">stat()</a></code> or <code><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">stage()</a></code> functions from <code>ggplot2</code> to map those variables. For example:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dist_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">dist_name</span>, xdist <span class="op">=</span> <span class="va">dist</span>, slab_color <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">stat</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">stat_dotsinterval</a></span><span class="op">(</span>slab_shape <span class="op">=</span> <span class="fl">19</span>, quantiles <span class="op">=</span> <span class="fl">500</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_color_distiller</a></span><span class="op">(</span>aesthetics <span class="op">=</span> <span class="st">"slab_color"</span>, guide <span class="op">=</span> <span class="st">"colorbar2"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>
    <span class="st">"stat_dotsinterval(slab_shape = 19, quantiles = 500)"</span>,
    <span class="st">'aes(slab_color = stat(x)) +\nscale_color_distiller(aesthetics = "slab_color", guide = "colorbar2")'</span>
  <span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/dotsinterval_dist_color-1.png" width="648"></p>
<p>This example also demonstrates the use of sub-geometry scales: the <code>slab_</code>-prefixed aesthetics <code>slab_color</code> and <code>slab_shape</code> must be used to target the color and shape of the slab (“slab” here refers to the stack of dots) when using <code><a href="../reference/geom_dotsinterval.html">geom_dotsinterval()</a></code> and <code><a href="../reference/geom_dotsinterval.html">stat_dotsinterval()</a></code> to disambiguate between the point/interval and the dot stack. When using <code><a href="../reference/geom_dotsinterval.html">stat_dots()</a></code>/<code><a href="../reference/geom_dotsinterval.html">geom_dots()</a></code> this is not necessary.</p>
<p>Also note the use of <code><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_color_distiller()</a></code>, a base ggplot2 color scale, with the <code>slab_color</code> aesthetic by setting the <code>aesthetics</code> and <code>guide</code> properties (the latter is necessary because the default <code>guide = "colorbar"</code> will not work with non-standard color aesthetics).</p>
</div>
<div class="section level3">
<h3 id="thresholds">Thresholds<a class="anchor" aria-label="anchor" href="#thresholds"></a>
</h3>
<p>Another potentially useful application of post-stat aesthetic computation is to apply thresholds on a dotplot, coloring points on one side of a line differently:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ab_df</span> <span class="op">=</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>
  ab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span>,
  mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span>,
  sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1.5</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">ab_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>
    y <span class="op">=</span> <span class="va">ab</span>, xdist <span class="op">=</span> <span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">dist_normal</a></span><span class="op">(</span><span class="va">mean</span>, <span class="va">sd</span><span class="op">)</span>,
    fill <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">stat</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">6</span><span class="op">)</span>, shape <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">stat</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">6</span><span class="op">)</span>
  <span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">stat_dots</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"dodge"</span>, color <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>
    title <span class="op">=</span> <span class="st">"stat_dots()"</span>,
    subtitle <span class="op">=</span> <span class="st">"aes(xdist = dist_normal(mean, sd), fill and shape = stat(x &lt; 6))"</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">6</span>, alpha <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op">+</span>
  <span class="co"># we'll use these shapes since they have fill and outlines</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">21</span>,<span class="fl">22</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/dist_dots_shape_color-1.png" width="648"></p>
<p>Notice the default dotplot layout, <code>"bin"</code>, can cause dots to be on the wrong side of a cutoff when coloring dots within dotplots. Thus it can be useful to use the <code>"weave"</code> or <code>"swarm"</code> layouts, which tend to position dots closer to their true <code>x</code> positions, rather than at bin centers:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ab_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">ab</span>, xdist <span class="op">=</span> <span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">dist_normal</a></span><span class="op">(</span><span class="va">mean</span>, <span class="va">sd</span><span class="op">)</span>, fill <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">stat</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">6</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">stat_dots</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"dodge"</span>, color <span class="op">=</span> <span class="cn">NA</span>, layout <span class="op">=</span> <span class="st">"weave"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>
    title <span class="op">=</span> <span class="st">'stat_dots(layout = "weave")'</span>,
    subtitle <span class="op">=</span> <span class="st">"aes(fill = stat(x &lt; 6))"</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">6</span>, alpha <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/dist_dots_weave-1.png" width="648"></p>
</div>
</div>
<div class="section level2">
<h2 id="rain-cloud-plots">Rain cloud plots<a class="anchor" aria-label="anchor" href="#rain-cloud-plots"></a>
</h2>
<p>Sometimes you may want to include multiple different types of slabs in the same plot in order to take advantage of the features each slab type provides. For example, people often combine densities with dotplots to show the underlying datapoints that go into a density estimate, creating so-called <em>rain cloud</em> plots.</p>
<p>To use multiple slab geometries together, you can use the <code>side</code> parameter to change which side of the interval a slab is drawn on and set the <code>scale</code> parameter to something around <code>0.5</code> (by default it is <code>0.9</code>) so that the two slabs do not overlap. We’ll also scale the halfeye slab thickness by <code>n</code> (the number of observations in each group) so that the area of each slab represents sample size (and looks similar to the total area of its corresponding dotplot).</p>
<p>We’ll use a subsample of of the data to show how it might look on a reasonably-sized dataset.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12345</span><span class="op">)</span> <span class="co"># for reproducibility</span>

<span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>
  abc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>,
  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">8</span>, <span class="fl">8</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1.5</span>, <span class="fl">1.5</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">abc</span>, x <span class="op">=</span> <span class="va">value</span>, fill <span class="op">=</span> <span class="va">abc</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/stat_slab.html">stat_slab</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>thickness <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">stat</a></span><span class="op">(</span><span class="va">pdf</span><span class="op">*</span><span class="va">n</span><span class="op">)</span><span class="op">)</span>, scale <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">stat_dotsinterval</a></span><span class="op">(</span>side <span class="op">=</span> <span class="st">"bottom"</span>, scale <span class="op">=</span> <span class="fl">0.7</span>, slab_size <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_fill_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Set2"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span>
      <span class="st">'stat_slab(aes(thickness = stat(pdf*n)), scale = 0.7) +\n'</span>,
      <span class="st">'stat_dotsinterval(side = "bottom", scale = 0.7, slab_size = NA)'</span>
    <span class="op">)</span>,
    <span class="st">'aes(fill = abc)'</span>
  <span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/halfeye_dotplot-1.png" width="648"></p>
</div>
<div class="section level2">
<h2 id="logit-dotplots">Logit dotplots<a class="anchor" aria-label="anchor" href="#logit-dotplots"></a>
</h2>
<p>To demonstrate another useful plot type, the <em>logit dotplot</em> (courtesy <a href="https://www.barelysignificant.com/post/glm/" class="external-link">Ladislas Nalborczyk</a>), we’ll fit a logistic regression to some data on the sex and body mass of Gentoo penguins.</p>
<p>First, we’ll demo varying the <code>side</code> aesthetic to create two dotplots that are “facing” each other. We also adjust the <code>scale</code> so that the dots don’t overlap:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gentoo</span> <span class="op">=</span> <span class="va">penguins</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">species</span> <span class="op">==</span> <span class="st">"Gentoo"</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span><span class="op">)</span>

<span class="va">gentoo</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span>, y <span class="op">=</span> <span class="va">sex</span>, side <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">sex</span> <span class="op">==</span> <span class="st">"male"</span>, <span class="st">"bottom"</span>, <span class="st">"top"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">geom_dots</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>
    <span class="st">"geom_dots(scale = 0.5)"</span>,
    <span class="st">'aes(side = ifelse(sex == "male", "bottom", "top"))'</span>
  <span class="op">)</span> </code></pre></div>
<p><img src="dotsinterval_files/figure-html/gentoo_raw-1.png" width="648"></p>
<p>Now we fit a logistic regression predicting sex based on body mass:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">sex</span> <span class="op">==</span> <span class="st">"male"</span> <span class="op">~</span> <span class="va">body_mass_g</span>, data <span class="op">=</span> <span class="va">gentoo</span>, family <span class="op">=</span> <span class="va">binomial</span><span class="op">)</span>
<span class="va">m</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">## Call:  glm(formula = sex == "male" ~ body_mass_g, family = binomial, </span>
<span class="co">##     data = gentoo)</span>
<span class="co">## </span>
<span class="co">## Coefficients:</span>
<span class="co">## (Intercept)  body_mass_g  </span>
<span class="co">##   -55.03337      0.01089  </span>
<span class="co">## </span>
<span class="co">## Degrees of Freedom: 118 Total (i.e. Null);  117 Residual</span>
<span class="co">## Null Deviance:       164.9 </span>
<span class="co">## Residual Deviance: 45.1  AIC: 49.1</span></code></pre>
<p>Then we can overlay a fit line as a <code><a href="../reference/stat_lineribbon.html">stat_lineribbon()</a></code> (see <code><a href="../articles/lineribbon.html">vignette("lineribbon")</a></code>) on top of the mirrored dotplots to create a <em>logit dotplot</em>:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># construct a prediction grid for the fit line</span>
<span class="va">prediction_grid</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">gentoo</span>, 
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>body_mass_g <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">body_mass_g</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">body_mass_g</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">prediction_grid</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html" class="external-link">bind_cols</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">m</span>, <span class="va">.</span>, se.fit <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>
    <span class="co"># distribution describing uncertainty in log odds</span>
    log_odds <span class="op">=</span> <span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">dist_normal</a></span><span class="op">(</span><span class="va">fit</span>, <span class="va">se.fit</span><span class="op">)</span>,
    <span class="co"># inverse-logit transform the log odds to get</span>
    <span class="co"># distribution describing uncertainty in Pr(sex == "male")</span>
    p_male <span class="op">=</span> <span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_transformed.html" class="external-link">dist_transformed</a></span><span class="op">(</span><span class="va">log_odds</span>, <span class="va">plogis</span>, <span class="va">qlogis</span><span class="op">)</span>
  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">body_mass_g</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/geom_dotsinterval.html">geom_dots</a></span><span class="op">(</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">sex</span> <span class="op">==</span> <span class="st">"male"</span><span class="op">)</span>, side <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">sex</span> <span class="op">==</span> <span class="st">"male"</span>, <span class="st">"bottom"</span>, <span class="st">"top"</span><span class="op">)</span><span class="op">)</span>,
    scale <span class="op">=</span> <span class="fl">0.4</span>,
    data <span class="op">=</span> <span class="va">gentoo</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/stat_lineribbon.html">stat_lineribbon</a></span><span class="op">(</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>ydist <span class="op">=</span> <span class="va">p_male</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">4</span>, fill <span class="op">=</span> <span class="st">"#08306b"</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>
    title <span class="op">=</span> <span class="st">"logit dotplot: stat_dots() with stat_lineribbon()"</span>,
    subtitle <span class="op">=</span> <span class="st">'aes(side = ifelse(sex == "male", "bottom", "top"))'</span>,
    x <span class="op">=</span> <span class="st">"Body mass (g) of Gentoo penguins"</span>,
    y <span class="op">=</span> <span class="st">"Pr(sex = male)"</span>
  <span class="op">)</span></code></pre></div>
<p><img src="dotsinterval_files/figure-html/logit_dotplot-1.png" width="648"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="http://www.mjskay.com" class="external-link">Matthew Kay</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
