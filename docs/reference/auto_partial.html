<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Automatic partial function application in ggdist — auto_partial • ggdist</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Automatic partial function application in ggdist — auto_partial"><meta property="og:description" content='Several ggdist functions support automatic partial application: when called,
if all of their required arguments have not been provided, the function returns a
modified version of itself that uses the arguments passed to it so far as defaults.
Technically speaking, these functions are essentially "Curried" with respect to
their required arguments, but I think "automatic partial application" gets
the idea across more clearly.
Functions supporting automatic partial application include:
The point_interval() family, such as median_qi(), mean_qi(),
mode_hdi(), etc.
The smooth_ family, such as smooth_bounded(), smooth_unbounded(),
smooth_discrete(), and smooth_bar().
The density_ family, such as density_bounded(), density_unbounded() and
density_histogram().
The align family.
The breaks family.
The bandwidth family.


Partial application makes it easier to supply custom parameters to these
functions when using them inside other functions, such as geoms and stats.
For example, smoothers for geom_dots() can be supplied in one of three
ways:
as a suffix: geom_dots(smooth = "bounded")
as a function: geom_dots(smooth = smooth_bounded)
as a partially-applied function with options:
geom_dots(smooth = smooth_bounded(kernel = "cosine"))


Many other common arguments for ggdist functions work similarly; e.g.
density, align, breaks, bandwidth, and point_interval arguments.
Use the auto_partial() function to create new functions that support
automatic partial application.'><meta property="og:image" content="http://mjskay.github.io/ggdist/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-93322-5"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-93322-5');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggdist</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/dotsinterval.html">Dots + interval stats and geoms</a>
    </li>
    <li>
      <a href="../articles/freq-uncertainty-vis.html">Frequentist uncertainty visualization</a>
    </li>
    <li>
      <a href="../articles/lineribbon.html">Lineribbon stats and geoms</a>
    </li>
    <li>
      <a href="../articles/slabinterval.html">Slab + interval stats and geoms</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/mjskay/ggdist/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Automatic partial function application in ggdist</h1>
    <small class="dont-index">Source: <a href="https://github.com/mjskay/ggdist/blob/HEAD/R/auto_partial.R" class="external-link"><code>R/auto_partial.R</code></a></small>
    <div class="hidden name"><code>auto_partial.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Several <span class="pkg">ggdist</span> functions support <em>automatic partial application</em>: when called,
if all of their required arguments have not been provided, the function returns a
modified version of itself that uses the arguments passed to it so far as defaults.
Technically speaking, these functions are essentially "Curried" with respect to
their required arguments, but I think "automatic partial application" gets
the idea across more clearly.</p>
<p>Functions supporting automatic partial application include:</p><ul><li><p>The <code><a href="point_interval.html">point_interval()</a></code> family, such as <code><a href="point_interval.html">median_qi()</a></code>, <code><a href="point_interval.html">mean_qi()</a></code>,
<code><a href="point_interval.html">mode_hdi()</a></code>, etc.</p></li>
<li><p>The <code>smooth_</code> family, such as <code><a href="smooth_density.html">smooth_bounded()</a></code>, <code><a href="smooth_density.html">smooth_unbounded()</a></code>,
<code><a href="smooth_discrete.html">smooth_discrete()</a></code>, and <code><a href="smooth_discrete.html">smooth_bar()</a></code>.</p></li>
<li><p>The <code>density_</code> family, such as <code><a href="density_bounded.html">density_bounded()</a></code>, <code><a href="density_unbounded.html">density_unbounded()</a></code> and
<code><a href="density_histogram.html">density_histogram()</a></code>.</p></li>
<li><p>The <a href="align.html">align</a> family.</p></li>
<li><p>The <a href="breaks.html">breaks</a> family.</p></li>
<li><p>The <a href="bandwidth.html">bandwidth</a> family.</p></li>
</ul><p>Partial application makes it easier to supply custom parameters to these
functions when using them inside other functions, such as geoms and stats.
For example, smoothers for <code><a href="geom_dots.html">geom_dots()</a></code> can be supplied in one of three
ways:</p><ul><li><p>as a suffix: <code>geom_dots(smooth = "bounded")</code></p></li>
<li><p>as a function: <code>geom_dots(smooth = smooth_bounded)</code></p></li>
<li><p>as a partially-applied function with options:
<code>geom_dots(smooth = smooth_bounded(kernel = "cosine"))</code></p></li>
</ul><p>Many other common arguments for <span class="pkg">ggdist</span> functions work similarly; e.g.
<code>density</code>, <code>align</code>, <code>breaks</code>, <code>bandwidth</code>, and <code>point_interval</code> arguments.</p>
<p>Use the <code>auto_partial()</code> function to create new functions that support
automatic partial application.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">auto_partial</span><span class="op">(</span><span class="va">f</span>, name <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>f</dt>
<dd><p>A function</p></dd>


<dt>name</dt>
<dd><p>A character string giving the name of the function, to be used
when printing.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A modified version of <code>f</code> that will automatically be partially
applied if all of its required arguments are not given.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># the first required argument, `x`, of the density_ family is the vector</span></span></span>
<span class="r-in"><span><span class="co"># to calculate a kernel density estimate from. If it is not provided, the</span></span></span>
<span class="r-in"><span><span class="co"># function is partially applied and returned as-is</span></span></span>
<span class="r-in"><span><span class="fu"><a href="density_unbounded.html">density_unbounded</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;partial_function&gt;: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   density_unbounded()</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># we could create a new function that uses half the default bandwidth</span></span></span>
<span class="r-in"><span><span class="va">density_half_bw</span> <span class="op">=</span> <span class="fu"><a href="density_unbounded.html">density_unbounded</a></span><span class="op">(</span>adjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">density_half_bw</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;partial_function&gt;: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   density_unbounded(adjust = 0.5)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># we can overwrite partially-applied arguments</span></span></span>
<span class="r-in"><span><span class="va">density_quarter_bw_trimmed</span> <span class="op">=</span> <span class="fu">density_half_bw</span><span class="op">(</span>adjust <span class="op">=</span> <span class="fl">0.25</span>, trim <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">density_quarter_bw_trimmed</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;partial_function&gt;: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   density_unbounded(adjust = 0.25, trim = TRUE)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># when we eventually call the function and provide the required argument</span></span></span>
<span class="r-in"><span><span class="co"># `x`, it is applied using the arguments we have "saved up" so far</span></span></span>
<span class="r-in"><span><span class="fu">density_quarter_bw_trimmed</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	density_unbounded(x = x, adjust = 0.25, trim = TRUE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data: x (100 obs.);	Bandwidth 'bw' = 0.08864</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        x                 y           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Min.   :-2.3457   Min.   :0.009921  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1st Qu.:-1.1220   1st Qu.:0.062906  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Median : 0.1016   Median :0.149478  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Mean   : 0.1016   Mean   :0.201970  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3rd Qu.: 1.3253   3rd Qu.:0.337508  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Max.   : 2.5490   Max.   :0.673160  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create a custom automatically partially applied function</span></span></span>
<span class="r-in"><span><span class="va">f</span> <span class="op">=</span> <span class="fu">auto_partial</span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span> <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">(</span><span class="va">x</span> <span class="op">+</span> <span class="va">y</span><span class="op">)</span> <span class="op">*</span> <span class="va">z</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">f</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;partial_function&gt;: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   f()</span>
<span class="r-in"><span><span class="fu">f</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;partial_function&gt;: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   f(x = 1)</span>
<span class="r-in"><span><span class="va">g</span> <span class="op">=</span> <span class="fu">f</span><span class="op">(</span>y <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">(</span>z <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">g</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;partial_function&gt;: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   f(y = 2, z = 4)</span>
<span class="r-in"><span><span class="fu">g</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 12</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="http://www.mjskay.com" class="external-link">Matthew Kay</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

